<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Mrhao"><title>Hexo接入Google Analytics(谷歌分析) · Mrhao Blog</title><meta name="description" content="前言首先呢，这个“修改”标签是最近加的，打算记录一些平常我瞎改的一些思路（PS：瞎改的意思就是完全没有了解过某门语言却修改一些项目的成功案例）这次涉及到的下面做解释
pug：模板引擎（未了解）
html：标签语言（中等水平）
js：脚本语言（学得头疼还没懂）
hexo：轻量级静态博客（熟练基本操作，"><meta name="keywords" content="[&quot;MrhaoBlog&quot;,&quot;Mr.hao&quot;,&quot;Windows&quot;,&quot;Linux&quot;,&quot;html&quot;,&quot;Web&quot;,&quot;Mrhao博客&quot;]"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><script src="https://www.googletagmanager.com/gtag/js?id=UA-164546111-1"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-164546111-1');</script><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/blog/css/style.css"><link rel="stylesheet" href="/blog/css/blog_basic.css"><link rel="stylesheet" href="/blog/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="https://q.qlogo.cn/headimg_dl?dst_uin=2859676251&amp;spec=640" style="width:127px;border-radius: 100%;"><h3 title><a href="/">Mrhao Blog</a></h3><div class="description"><p>Mrhao'Blog鸽子在校博主的技术型博客</p></div></div></div><ul class="social-links"><li><a href="http://github.com/JHPatchouli"><i class="fa fa-github"></i></a></li></ul><div class="footer"><div class="by_blog"><span>Blog by</span><a href="https://github.com/JHPatchouli"> Mrhao</a><br><span>Theme modfiy by</span><a href="https://github.com/JHPatchouli"> JHPatchouli</a><br><span>Theme by </span></div><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">本站由hexo驱动&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/blog">首页</a></li><li><a href="/blog/about">关于</a></li><li><a href="/blog/archives">归档</a></li><li><a href="/blog/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="https://q.qlogo.cn/headimg_dl?dst_uin=2859676251&amp;spec=640"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Hexo接入Google Analytics(谷歌分析)</a></h3></div><div class="post-content"><h5 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h5><h4 id="首先呢，这个“修改”标签是最近加的，打算记录一些平常我瞎改的一些思路（PS：瞎改的意思就是完全没有了解过某门语言却修改一些项目的成功案例）"><a href="#首先呢，这个“修改”标签是最近加的，打算记录一些平常我瞎改的一些思路（PS：瞎改的意思就是完全没有了解过某门语言却修改一些项目的成功案例）" class="headerlink" title="首先呢，这个“修改”标签是最近加的，打算记录一些平常我瞎改的一些思路（PS：瞎改的意思就是完全没有了解过某门语言却修改一些项目的成功案例）"></a>首先呢，这个“修改”标签是最近加的，打算记录一些平常我瞎改的一些思路（PS：瞎改的意思就是完全没有了解过某门语言却修改一些项目的成功案例）</h4><h5 id="这次涉及到的下面做解释"><a href="#这次涉及到的下面做解释" class="headerlink" title="这次涉及到的下面做解释"></a>这次涉及到的下面做解释</h5><blockquote>
<p>pug：模板引擎（未了解）</p>
<p>html：标签语言（中等水平）</p>
<p>js：脚本语言（学得头疼还没懂）</p>
<p>hexo：轻量级静态博客（熟练基本操作，已部署）</p>
<p>Visual Studio：微软的一款IDE</p>
</blockquote>
<h5 id="然后环境介绍及本次重要文件结构"><a href="#然后环境介绍及本次重要文件结构" class="headerlink" title="然后环境介绍及本次重要文件结构"></a>然后环境介绍及本次重要文件结构</h5><blockquote>
<p>hexo已部署</p>
<p>使用的hexo主题Anatole（重要！！！）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">比较重要的文件结构，其他讲不到的省略</span><br><span class="line"></span><br><span class="line">├─public（渲染输出文件夹）</span><br><span class="line">├─source（文章md源文件）</span><br><span class="line">└─themes（主题文件夹）</span><br><span class="line"> └─Anatole（这次用到的主题）</span><br><span class="line">    ├─layout</span><br><span class="line">      │  └─partial</span><br><span class="line">      │      └─head.pug（head部分pug文件）</span><br></pre></td></tr></table></figure>

<h5 id="开始吟唱！！"><a href="#开始吟唱！！" class="headerlink" title="开始吟唱！！"></a>开始吟唱！！</h5><h4 id="第一步当然是去坐趟飞机去外面再上Google-Analytics（以下简称‘谷歌分析’），登录谷歌账号"><a href="#第一步当然是去坐趟飞机去外面再上Google-Analytics（以下简称‘谷歌分析’），登录谷歌账号" class="headerlink" title="第一步当然是去坐趟飞机去外面再上Google Analytics（以下简称‘谷歌分析’），登录谷歌账号"></a>第一步当然是去坐趟飞机去外面再上<a href="https://analytics.google.com/analytics" target="_blank" rel="noopener">Google Analytics</a>（以下简称‘谷歌分析’），登录谷歌账号</h4><h4 id="创建媒体资源"><a href="#创建媒体资源" class="headerlink" title="创建媒体资源"></a>创建媒体资源</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/7c00191a2e77d9b2.png" alt="`&lt;u&gt;***创建媒体资源***&lt;/u&gt;`"></p>
<h4 id="这步看着填"><a href="#这步看着填" class="headerlink" title="这步看着填"></a>这步看着填</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/d999fa5a8eb1b9c4.png" alt></p>
<h4 id="接下来会跳转到这个界面UA开头的ID就是你的识标，中间有一堆JS代码，不用慌"><a href="#接下来会跳转到这个界面UA开头的ID就是你的识标，中间有一堆JS代码，不用慌" class="headerlink" title="接下来会跳转到这个界面UA开头的ID就是你的识标，中间有一堆JS代码，不用慌"></a>接下来会跳转到这个界面UA开头的ID就是你的识标，中间有一堆JS代码，不用慌</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/501c8a12fb23d3b0.png" alt></p>
<h4 id="根据代码框上面的信息我们可以知道需要将这对代码插入到你想要跟踪的界面其中的-lt-head-gt-标签中，显然对于一个静态博客来说直接一个一个页面插入根本就是在搞笑"><a href="#根据代码框上面的信息我们可以知道需要将这对代码插入到你想要跟踪的界面其中的-lt-head-gt-标签中，显然对于一个静态博客来说直接一个一个页面插入根本就是在搞笑" class="headerlink" title="根据代码框上面的信息我们可以知道需要将这对代码插入到你想要跟踪的界面其中的&lt;head&gt;标签中，显然对于一个静态博客来说直接一个一个页面插入根本就是在搞笑"></a>根据代码框上面的信息我们可以知道需要将这对代码插入到你想要跟踪的界面其中的<code>&lt;head&gt;</code>标签中，显然对于一个静态博客来说直接一个一个页面插入根本就是在搞笑</h4><h4 id="然而hexo博客是靠模板引擎渲染的那么就是说我们可以在模板的-lt-head-gt-部分插入这代码"><a href="#然而hexo博客是靠模板引擎渲染的那么就是说我们可以在模板的-lt-head-gt-部分插入这代码" class="headerlink" title="然而hexo博客是靠模板引擎渲染的那么就是说我们可以在模板的&lt;head&gt;部分插入这代码"></a>然而hexo博客是靠模板引擎渲染的那么就是说我们可以在模板的<code>&lt;head&gt;</code>部分插入这代码</h4><h5 id="分析模板引擎文件"><a href="#分析模板引擎文件" class="headerlink" title="分析模板引擎文件"></a>分析模板引擎文件</h5><h4 id="我们用vs打开head-pug（文件位置详情见上方文件结构下文不再提醒）"><a href="#我们用vs打开head-pug（文件位置详情见上方文件结构下文不再提醒）" class="headerlink" title="我们用vs打开head.pug（文件位置详情见上方文件结构下文不再提醒）"></a>我们用vs打开head.pug（文件位置详情见上方文件结构下文不再提醒）</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/47718f7cf9a73394.png" alt></p>
<h4 id="这里比较顺眼就决定在这插入了"><a href="#这里比较顺眼就决定在这插入了" class="headerlink" title="这里比较顺眼就决定在这插入了"></a>这里比较顺眼就决定在这插入了</h4><h4 id="随便看了眼pug的参考文档看到一个超链接的写法"><a href="#随便看了眼pug的参考文档看到一个超链接的写法" class="headerlink" title="随便看了眼pug的参考文档看到一个超链接的写法"></a>随便看了眼pug的参考文档看到一个超链接的写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a(href=&apos;google.com&apos;) Google //pug部分</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"google.com"</span>&gt;</span>Google<span class="tag">&lt;/<span class="name">a</span>&gt;</span> //渲染后html代码</span><br></pre></td></tr></table></figure>

<h4 id="行了，我又懂了"><a href="#行了，我又懂了" class="headerlink" title="行了，我又懂了"></a>行了，我又懂了</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 假如以下是我要插入的js代码 --&gt;</span><br><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://www.googletagmanager.com/gtag/js?id=xxxxx"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span><br><span class="line">  gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line"></span><br><span class="line">  gtag(<span class="string">'config'</span>, <span class="string">'xxxxxxx'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="我会拆分成两部分来写，因为一共两组-lt-script-gt-标签"><a href="#我会拆分成两部分来写，因为一共两组-lt-script-gt-标签" class="headerlink" title="我会拆分成两部分来写，因为一共两组&lt;script&gt;标签"></a>我会拆分成两部分来写，因为一共两组<code>&lt;script&gt;</code>标签</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据 a(href='google.com') Google</span></span><br><span class="line"><span class="comment">//我们的第一组标签应该是</span></span><br><span class="line">script(src=<span class="string">"https://www.googletagmanager.com/gtag/js?id=xxxxx"</span>)</span><br><span class="line"><span class="comment">//同样第二部分是</span></span><br><span class="line">script <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];<span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());gtag(<span class="string">'config'</span>, <span class="string">'xxxxxxx'</span>);</span><br><span class="line"><span class="comment">//第二部分看起来不太美观，但是这样才不会报错，而且JS语言以";"结尾了就不怕冲突</span></span><br></pre></td></tr></table></figure>

<p><img src="https://ftp.bmp.ovh/imgs/2020/04/ef378b42ed93742e.png" alt></p>
<h4 id="保存退出，大功告成，一顿hexo-g，部署后可以见到每个界面的head标签中都有谷歌分析的代码"><a href="#保存退出，大功告成，一顿hexo-g，部署后可以见到每个界面的head标签中都有谷歌分析的代码" class="headerlink" title="保存退出，大功告成，一顿hexo g，部署后可以见到每个界面的head标签中都有谷歌分析的代码"></a>保存退出，大功告成，一顿hexo g，部署后可以见到每个界面的head标签中都有谷歌分析的代码</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/7557ed5035e68be0.png" alt></p>
<h4 id="到谷歌分析后台的实时中可以看到访问行为被捕捉"><a href="#到谷歌分析后台的实时中可以看到访问行为被捕捉" class="headerlink" title="到谷歌分析后台的实时中可以看到访问行为被捕捉"></a>到谷歌分析后台的实时中可以看到访问行为被捕捉</h4><p><img src="https://ftp.bmp.ovh/imgs/2020/04/83a735ab24459f1d.png" alt></p>
<p><img src="https://ftp.bmp.ovh/imgs/2020/04/d3c21e778dcfb2e7.png" alt></p>
<h4 id="看看到这可怜访问量，博主的文章觉得好的话记得推荐给需要的人哦"><a href="#看看到这可怜访问量，博主的文章觉得好的话记得推荐给需要的人哦" class="headerlink" title="看看到这可怜访问量，博主的文章觉得好的话记得推荐给需要的人哦"></a>看看到这可怜访问量，博主的文章觉得好的话记得推荐给需要的人哦</h4></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-04-25</span><i class="fa fa-tag"></i><a class="tag" href="/blog/tags/hexo/" title="hexo">hexo </a><a class="tag" href="/blog/tags/google/" title="google">google </a><a class="tag" href="/blog/tags/pug/" title="pug">pug </a><a class="tag" href="/blog/tags/html/" title="html">html </a><a class="tag" href="/blog/tags/js/" title="js">js </a><a class="tag" href="/blog/tags/修改-瞎改/" title="修改(瞎改)">修改(瞎改) </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,https://git.mrhao.xyz/blog/2020/04/25/GoogleAnalytics/,Mrhao Blog,Hexo接入Google Analytics(谷歌分析),;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/blog/2020/03/28/群晖登录问题/" title="群晖网页登录，一直处理中错误(解决案例)">下一篇</a></li></ul></div><div style="margin:0 30px;/* background-color: #cfcfcf6b; *//* box-shadow: 0px 0px 0px 0px black; *//* text-shadow: 0px 0px 0px #210000; *//* background-color: white; *//* text-shadow: 0 0 #00000038; */color: #000000ad;"><blockquote style="background-color: #c5c5c5;"><div class="vwrap"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="https://github.com/JHPatchouli" style="word-wrap:break-word;color: #3668b3c4;">Mrhao</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="https://git.mrhao.xyz/blog/2020/04/25/GoogleAnalytics/" style="word-wrap:break-word;color: #3668b3c4;">https://git.mrhao.xyz/blog/2020/04/25/GoogleAnalytics/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info"><br>本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="word-wrap:break-word;color: #3668b3c4;"> CC BY-NC-SA 4.0 </a>许可协议。转载请注明来自<a href="https://git.mrhao.xyz/blog" style="word-wrap:break-word;color: #3668b3c4;">Mrhao Blog</a></span></div></div></blockquote></div><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@v1.1.7/dist/Valine.min.js?v=undefined"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:false || false, 
  verify:true|| false, 
  app_id:'TlHtUet16iamRMk84dIJIGOg-gzGzoHsz',
  app_key:'3o7SE7LdAoTXJlrPx6gURmRx',
  placeholder:'说点什么吧。。',
  path: window.location.pathname,
  avatar:'hide'
})</script></div></div></div></div><script src="/blog/js/jquery.js"></script><script src="/blog/js/jquery-migrate-1.2.1.min.js"></script><script src="/blog/js/jquery.appear.js"></script></body></html>